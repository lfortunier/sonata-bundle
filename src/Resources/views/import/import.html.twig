{% extends "admin/layout.html.twig" %}
{% trans_default_domain 'admin' %}

{% block breadcrumb %}
    <li><a href="{{ path('sonata_admin_dashboard') }}"><i class="fa fa-home"></i></a></li>
    <li class="active"><span>{{ breadcrumb_title }}</span></li>
{% endblock %}

{%- block actions -%}
    {% include '@SonataAdmin/Button/create_button.html.twig' %}
    {% include '@SonataAdmin/Button/list_button.html.twig' %}
{%- endblock -%}

{% block form %}
    {{ form_start(form) }}
    {% form_theme form with [
        '@SmartSonata/form_theming/textarea_widget.html.twig',
        '@SmartSonata/form_theming/import_submit_widget.html.twig',
        '@SmartSonata/form_theming/form_errors.html.twig'
    ] %}
    <div class="row">
        <div class="col-md-12">
            <div class="box box-primary">
                <div class="box-header"><h4 class="box-title">{{ title }}</h4></div>
                <div class="box-body">
                    <div class="{% if show_import_preview %}hidden{% endif %}">
                        {{ form_row(form.file) }}

                        {{ form_label(form.textarea) }}
                        {{ form_widget(form.textarea, {"attr": {"rows": 15} }) }}
                        {{ form_errors(form.textarea) }}

                        {{ form_errors(form) }}
                        {{ form_help|raw }}
                    </div>
                    {% if show_import_preview %}
                        {% include import_preview_template %}
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
    <div class="sonata-ba-form-actions well well-small form-actions">
            <span class="{% if show_import_preview %}hidden{% endif %}">
                {{ form_widget(form.import_preview) }}
            </span>
        <span class="{% if not show_import_preview %}hidden{% endif %}">
                {{ form_widget(form.import) }}
            </span>
        <span class="{% if not show_import_preview %}hidden{% endif %}">
                {{ form_widget(form.cancel_import) }}
            </span>
        {% if not show_import_preview %}
            <a class="btn btn-default" href="{{ admin.generateUrl(show_import_preview ? 'import' : 'list') }}">
                <i class="fa fa-reply" aria-hidden="true"></i> {{ 'action.cancel'|trans({}, 'admin') }}
            </a>
        {% endif %}
    </div>
    {{ form_end(form) }}
{% endblock %}
